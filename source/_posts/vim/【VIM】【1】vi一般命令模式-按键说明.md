---
title: 【VIM】【1】vi一般命令模式
date: 2023-10-07 02:22:15
categories:
  - [Coder, Vim]
tags:
  - Vim
---

## 一般命令模式 (command mode)

功能：光标移动、复制粘贴、查找替换

<hr>
<br>

### 如何进入
以vim打开文件，就直接进入一般命令模式

或者，在编辑模式中，按下【Esc】按键，退出编辑模式，进入一般命令模式

<hr>
<br>

### 按键说民
- 移动光标
- 复制粘贴
- 查找替换

<hr>
<br>

#### 移动

##### 上下左右移动

|    按键    |       说明        |
|:----------:|:----------------:|
| [h] 或 [←] | 光标向左移动一个字符 |
| [j] 或 [↓] | 光标向下移动一个字符 |
| [k] 或 [↑] | 光标向上移动一个字符 |
| [l] 或 [→] | 光标向右移动一个字符 |

[h j k l] 和 [← ↓ ↑ →] 均可以移动光标，移动一个字符；
如果多次移动，可以使用【[数字] + 方向键[h | j | k | l | ← | ↓ | ↑ | →]】
比如向下移动30个字符，可以依次按下[3]、[0]、[j | ↓]

##### 屏幕移动

|     按键     |         说明         |
|:------------:|:--------------------:|
| [Ctrl] + [f] | 屏幕【向下】移动一页，相当于 [Page Down] 按键 （常用） |
| [Ctrl] + [b] | 屏幕【向上】移动一页，相当于 [Page Up] 按键 （常用） |
| [Ctrl] + [d] | 屏幕【向下】移动半页 |
| [Ctrl] + [u] | 屏幕【向上】移动半页 |
| [H] | 屏幕顶部 |
| [M] | 屏幕中部 |
| [L] | 屏幕底部 |

##### 行数移动

| 按键 | 说明 |
|:---:|:---:|
| [gg] | 移动到文件的首行 （常用） |
| [G] | 移动到文件的尾行 （常用） |
| n[gg] 或 n[G] | n为数字，移动到这个文件的第n行 |
| n[Enter] | n为数字，光标向下移动n行 （常用） |

##### 行内移动

|     按键     |         说明         |
|:------------:|:--------------------:|
| [0] 或 [Home] | 到行首 （常用） |
| [$] 或 [End] | 到行尾 （常用） |
| [^] | 到行首第一个非空格字符 |
| n[space] | n为数字，光标向右移动n个字符 |
| [w] | 向后移动一个单词 |
| [b] | 向前移动一个单词 |

#### 查找与替换

##### 查找

|     按键     |         说明         |
|:------------:|:--------------------:|
| /str | 从光标处，向下查找 str 字符 （常用） |
| ?str | 从光标处，向下查找 str 字符 |

进行查找时，按 [n] 或 [N] 键，可重复上一个查找操作
[n] 向后查找，[N] 向前查找

##### 替换

|     按键     |         说明         |
|:------------:|:--------------------:|
| :n1,n2s/word1/word2/g | n1 和 n2 为数字，在第 n1 和 n2 行之间，寻找 word1 字符串，并将其替换为 word2 字符串 （常用） |
| :1,$s/word1/word2/g | 在第一次到最后一行之间，寻找 word1 字符串，并将其替换为 word2 字符串 |
| :1,$s/word1/word2/gc | 在第一次到最后一行之间，寻找 word1 字符串，并将其替换为 word2 字符串，每次替换进行确认 |

上述操作举例
从第10行到第100行，将 python 替换成 java 的命令如下：
":10,100s/python/java/g"

